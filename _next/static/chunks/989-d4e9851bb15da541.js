(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[989],{7843:function(e,t,a){"use strict";a.d(t,{Z:function(){return ValHome}});var n=a(7437),r=a(9550),i=a.n(r),s=a(7463),l=a.n(s),u=a(8475),c=a.n(u),o=a(2265),d=a(8910),m=a(4033),p=a(1396),b=a.n(p),A=a(9351);let useI18n=()=>{var e;let{language:t,translations:a}=null!==(e=(0,o.useContext)(A.A))&&void 0!==e?e:{};if([t,a].some(e=>void 0===e))throw Error("useI18n must be used within a LanguageProvider");return{t:e=>{var t;return null!==(t=null==a?void 0:a[e])&&void 0!==t?t:e}}};function LanguageSwitcher(){let{t:e}=useI18n(),t=(0,m.usePathname)(),[a,r]=(0,o.useState)(!1),i=(0,o.useRef)(null),s=(0,o.useRef)(null),l=(0,o.useRef)(null),u=(0,o.useRef)(!1),c=(0,o.useRef)([{href:"/val/en",label:e("nav.english"),title:e("nav.english_link_description")},{href:"/val/es",label:e("nav.spanish"),title:e("nav.spanish_link_description")}]),p=(0,o.useCallback)(e=>{let t=e.target,a=![s,i].some(e=>{let{current:a}=e;return null==a?void 0:a.contains(t)});a&&r(!1)},[]);return l.current=p,(0,o.useEffect)(()=>{let unregisterDocumentClickawayListener=()=>{u.current&&(document.removeEventListener("mousedown",l.current),u.current=!1)};return a?u.current||(document.addEventListener("mousedown",l.current),u.current=!0):unregisterDocumentClickawayListener(),()=>{unregisterDocumentClickawayListener()}},[a]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{ref:i,id:"language-switcher-button","data-testid":"language-switcher-button","aria-haspopup":"listbox","aria-expanded":a,"aria-controls":"language-switcher-popup","aria-label":e("nav.language_button_label"),className:"h-8 w-8 flex justify-center items-center rounded-full shadow-lg hover:border-[2px] border-[1px] border-amber-900 bg-amber-50 dark:bg-stone-950 dark:border-amber-200",onClick:function(){let e=!a;if(r(e),e){var t;null===(t=s.current)||void 0===t||t.focus()}},children:(0,n.jsx)(d.$lZ,{className:"text-amber-900 dark:text-amber-200 h-5 w-5","aria-hidden":"true"})}),(0,n.jsx)("menu",{ref:s,id:"language-switcher-popup","data-testid":"language-switcher-popup",role:"region","aria-label":e("nav.popup-label"),hidden:!a,"aria-hidden":!a,className:"absolute top-8 right-8 shadow-lg p-3 bg-amber-50 border-[1px] border-amber-900 rounded-sm dark:bg-stone-950 dark:border-amber-200",children:c.current.map(e=>{let{href:a,label:r,title:i}=e;return(0,n.jsx)("li",{className:"flex items-center gap-2",role:"menuitem",children:(0,n.jsx)(b(),{href:a,title:i,"aria-current":a===t?"page":void 0,className:"".concat(a===t?"font-bold":""," text-amber-900 dark:text-amber-200 hover:underline"),children:r})},i)})})]})}var h=a(6691),f=a.n(h),g=a(9656),x={src:"/_next/static/media/val--indian.e9b3cedf.jpg",height:1288,width:898,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAgABgMBIgACEQEDEQH/xAAoAAEBAAAAAAAAAAAAAAAAAAAABAEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAJhH/8QAHBAAAgICAwAAAAAAAAAAAAAAAwQBAhIiABMj/9oACAEBAAE/ALqvHWrAxjXYGcvcW/pnntWNef/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Af//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Af//Z",blurWidth:6,blurHeight:8};function Intro(){let{t:e}=useI18n();return(0,n.jsxs)("div",{className:"relative w-full h-[100svh] lg:flex lg:flex-row-reverse lg:gap-8 lg:justify-between lg:items-center xl:max-w-[1440px] xl:m-auto xl:px-12",children:[(0,n.jsx)(f(),{src:x,alt:e("hero.hero_image_alt"),priority:!0,className:"h-full w-full object-cover lg:lg-[100svh] lg:w-auto xl:h-[80svh]"}),(0,n.jsx)("div",{className:"absolute bottom-12 left-0 right-0 bg-amber-50 dark:bg-stone-950 py-4 lg:static lg:w-full lg:flex lg:justify-center",children:(0,n.jsxs)("div",{className:"lg:w-fit lg:pl-4",children:[(0,n.jsx)(g.U,{className:"font-header text-5xl text-amber-900 dark:text-amber-200 text-center lg:text-left",children:e("hero.hero_text_md")}),(0,n.jsx)(g.U,{className:"mb-4 font-sans dark:text-amber-50 text-center font-semibold lg:text-left",children:e("hero.subtitle_md")}),(0,n.jsx)(g.U,{className:"font-sans dark:text-amber-50 text-center lg:text-left",children:e("hero.author_text_md")}),(0,n.jsx)(g.U,{className:"font-sans dark:text-amber-50 text-center lg:text-left text-sm",children:e("hero.interview_date_md")})]})})]})}a(732);let v="w-[90vw] max-w-[1000px] min-h-[40vh] max-h-[80vh] md:max-h-[600px]",j='\n    a[href],\n    area[href],\n    audio,\n    input:not([disabled]),\n    select:not([disabled]),\n    textarea:not([disabled]),\n    button:not([disabled]),\n    iframe, object, embed,\n    [tabindex]:not([tabindex="-1"]),\n    [contenteditable]\n';function Modal(e){let{children:t,description:a,title:r,trigger:i}=e,[s,l]=(0,o.useState)(!1),u=(0,o.useRef)(null),c=(0,o.useRef)(null),m=(0,o.useRef)(null),p=(0,o.useRef)(null),b=(0,o.useRef)(!1),A=(0,o.useRef)(!1),{t:h}=useI18n();function cleanupListeners(){b.current&&(document.removeEventListener("mousedown",m.current),b.current=!1),A.current&&(document.removeEventListener("keydown",p.current),A.current=!1)}let f=(0,o.useCallback)(e=>{let t=e.target,a=!c.current.contains(t);a&&l(!1)},[]);m.current=f;let g=(0,o.useCallback)(e=>{var t,a;let n=Array.from(null!==(a=null===(t=u.current)||void 0===t?void 0:t.querySelectorAll(j))&&void 0!==a?a:[]),r=Array.from(document.querySelectorAll(j)),i=n[0],s=n[n.length-1],l=r[0],c=r[n.length-1];if("Tab"===e.key){if(e.shiftKey){document.activeElement===l?i.focus():document.activeElement===i&&s.focus(),e.preventDefault();return}document.activeElement===l?(i.focus(),e.preventDefault()):document.activeElement===s&&c.focus()}},[]);return p.current=g,(0,o.useEffect)(()=>{let e=u.current,handleDialogClose=()=>{l(!1)};return null==e||e.addEventListener("close",handleDialogClose),()=>{null==e||e.removeEventListener("close",handleDialogClose),cleanupListeners()}},[]),(0,o.useEffect)(()=>{var e,t;s?(b.current||(document.addEventListener("mousedown",m.current),b.current=!0),A.current||(document.addEventListener("keydown",p.current),A.current=!0),null===(e=u.current)||void 0===e||e.showModal(),document.body.setAttribute("inert","true"),document.body.style.overflow="hidden",document.body.style.filter="blur(2px)"):(cleanupListeners(),null===(t=u.current)||void 0===t||t.close(),document.body.removeAttribute("inert"),document.body.style.overflow="",document.body.style.filter="")},[s]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{role:"button","aria-haspopup":"dialog","aria-expanded":s,tabIndex:0,title:a,"data-testid":"modal-trigger",onClick:()=>l(!0),onKeyDown:e=>{[" ","Enter"].includes(e.key)&&(e.preventDefault(),l(!0))},children:i}),(0,n.jsx)("dialog",{ref:u,"aria-modal":"true",className:"".concat(s?"flex":""," ").concat(v," h-max fixed top-0 right-0 bottom-0 left-0 items-center justify-center overflow-hidden bg-transparent backdrop:bg-stone-900 backdrop:opacity-90"),children:(0,n.jsx)("div",{className:"relative ".concat(v," rounded-sm overflow-hidden flex h-max"),children:(0,n.jsxs)("div",{ref:c,className:"relative bg-white dark:bg-stone-950 dark:text-amber-50",children:[(0,n.jsxs)("header",{className:"absolute top-0 left-0 right-0 shadow-sm flex justify-between items-center bg-amber-50 dark:bg-stone-900",children:[(0,n.jsxs)("div",{className:"ml-4 my-2 dark:text-amber-50",children:[(0,n.jsx)("h1",{className:"font-header",children:r}),(0,n.jsx)("p",{className:"text-xs italic",children:h("global.audio_transcript")})]}),(0,n.jsx)("button",{className:"h-8 w-8 m-4 flex items-center justify-center rounded-full border-[1px] border-amber-900 hover:border-[2px] dark:border-amber-200","data-testid":"modal-close-button",title:"".concat(h("modal.close_modal_label")," ").concat(r),"aria-label":"".concat(h("modal.close_modal_label")," ").concat(r),onClick:()=>l(!1),children:(0,n.jsx)(d.FU5,{className:"text-xl text-amber-900 dark:text-amber-200","aria-hidden":"true"})})]}),(0,n.jsx)("div",{className:"c-modal__content",children:t})]})})})]})}function prettyPrintTimestamp(e){let t=Math.floor(e),a=Math.floor(t/60),n=t%60,r="".concat(n<10?"0":"").concat(n),i="".concat(a<10?"0":"").concat(a);return"".concat(i,":").concat(r)}a(9253);let y=[.25,.5,.75,1,1.25,1.5,1.75];function AudioPlayer(e){let{src:t,labelledBy:a,title:r}=e,[i,s]=(0,o.useState)(!1),[l,u]=(0,o.useState)(!1),[c,m]=(0,o.useState)(1),[p,b]=(0,o.useState)(!1),[A,h]=(0,o.useState)(0),[f,g]=(0,o.useState)(0),x=(0,o.useRef)(null),v=(0,o.useRef)(null),j=(0,o.useRef)(null),w=(0,o.useRef)(null),_=(0,o.useRef)(null),k=(0,o.useRef)(!1),{t:N}=useI18n(),E="".concat(p?N("inputs.restart_audio_aria"):N("inputs.".concat(i?"pause":"play","_audio_aria"))," ").concat(r),L=prettyPrintTimestamp(A),q=prettyPrintTimestamp(f),C=(0,o.useCallback)(e=>{let t=e.target,a=![j,w].some(e=>{let{current:a}=e;return a.contains(t)});a&&u(!1)},[]);return _.current=C,(0,o.useEffect)(()=>{let e=x.current,t=v.current,handleAudioMetaLoaded=()=>{t.max=e.duration.toString(),g(e.duration)},handleAudioTimeUpdate=()=>{t.value=e.currentTime.toString(),h(e.currentTime)},updateAudioPosition=()=>{e.currentTime=Number(t.value)};return e.readyState>=1?handleAudioMetaLoaded():e.addEventListener("loadedmetadata",handleAudioMetaLoaded),e.addEventListener("timeupdate",handleAudioTimeUpdate),t.addEventListener("input",updateAudioPosition),()=>{e.removeEventListener("loadedmetadata",handleAudioMetaLoaded),e.removeEventListener("timeupdate",handleAudioTimeUpdate),t.removeEventListener("input",updateAudioPosition)}},[]),(0,o.useEffect)(()=>{let e=x.current;i?(e.currentTime===e.duration&&(e.currentTime=0),e.play()):e.pause()},[i]),(0,o.useEffect)(()=>{let unregisterDocumentClickawayListener=()=>{k.current&&(document.removeEventListener("mousedown",_.current),k.current=!1)};return l?k.current||(document.addEventListener("mousedown",_.current),k.current=!0):unregisterDocumentClickawayListener(),()=>{unregisterDocumentClickawayListener()}},[l]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex items-center gap-1 text-2xl text-amber-900 dark:text-amber-200",children:[(0,n.jsx)("button",{onClick:()=>{s(!i),b(!1)},onKeyDown:e=>{[" ","Enter"].includes(e.key)&&(e.preventDefault(),s(!i),b(!1))},"aria-label":E,title:E,className:"h-8 w-8 flex items-center justify-center","data-testid":"audio-player-play-button",children:i?(0,n.jsx)(d.SUn,{"aria-hidden":"true"}):p?(0,n.jsx)(d.zq9,{"aria-hidden":"true"}):(0,n.jsx)(d.Hm_,{"aria-hidden":"true"})}),(0,n.jsx)("code",{className:"text-xs",title:"".concat(N("inputs.audio_time_elapsed_title")," ").concat(r),children:L}),(0,n.jsx)("input",{ref:v,type:"range",min:"0",step:"0.1",defaultValue:0,"aria-label":"".concat(N("inputs.audio_scrubber_aria")," ").concat(r),className:"c-audio-player__scrubber"}),(0,n.jsx)("code",{className:"text-xs",title:"".concat(N("inputs.audio_time_total_title")," ").concat(r),children:q}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("button",{ref:w,"aria-label":"".concat(N("inputs.change_playback_speed_aria")," ").concat(r),title:"".concat(N("inputs.change_playback_speed_aria")," ").concat(r),"data-testid":"audio-player-speed-button",onClick:()=>u(!l),onKeyDown:e=>{[" ","Enter"].includes(e.key)&&(e.preventDefault(),u(!l))},className:"h-8 w-8 flex items-center justify-center",children:(0,n.jsx)(d.JKp,{"aria-hidden":"true"})}),(0,n.jsx)("ul",{ref:j,role:"menu",className:"absolute p-3 bg-amber-50 shadow-lg rounded-sm border-[1px] border-amber-900 dark:bg-stone-950 dark:border-amber-200",hidden:!l,"aria-hidden":!l,"aria-label":"".concat(N("inputs.audio_speed_menu_label")," ").concat(r),"data-testid":"audio-player-speed-menu",onKeyDown:e=>{"Escape"===e.key&&u(!1)},children:y.map((e,t)=>(0,n.jsx)("li",{role:"menuitemradio","aria-checked":c===e,tabIndex:0,"aria-label":"".concat(N("inputs.audio_speed_item_label")," ").concat(e),className:"".concat(c===e?"font-bold":""," text-sm cursor-pointer my-2 hover:underline"),"data-testid":"audio-player-speed-option-".concat(t),onClick:()=>{x.current.playbackRate=e,m(e),u(!1)},onKeyDown:t=>{[" ","Enter"].includes(t.key)&&(t.preventDefault(),x.current.playbackRate=e,m(e),u(!1))},children:1===e?N("global.normal"):"".concat(e,"x")},"audio-speed-label-".concat(a,"-").concat(t)))})]})]}),(0,n.jsx)("audio",{ref:x,controls:!0,src:t,"aria-labelledby":a,hidden:!0,"data-testid":"audio-player-audio-element",onEnded:()=>{s(!1),b(!0)}})]})}function AudioWithTranscript(e){let{description:t,title:a,transcript:r,src:i}=e,{t:s}=useI18n(),l="audio-title--".concat(a.replaceAll(" ","-")),u=(0,n.jsxs)("div",{className:"flex gap-2 items-center justify-center text-amber-900 dark:text-amber-200",children:[(0,n.jsx)(d.Q7r,{}),(0,n.jsx)(g.U,{className:"text-sm",children:s("global.view_transcript_md")})]}),c="".concat(s("global.open_transcript_modal")," ").concat(t);return(0,n.jsxs)("div",{className:"flex justify-center items-center flex-col gap-2",children:[(0,n.jsx)("h3",{id:l,className:"font-header dark:text-amber-50","aria-hidden":!0,children:a}),(0,n.jsx)(AudioPlayer,{src:i,labelledBy:l,title:a}),(0,n.jsx)(Modal,{trigger:u,description:c,title:a,children:r.map(e=>(0,n.jsx)(g.U,{className:"mb-4",children:e},e.substring(0,50).replaceAll(" ","-")))})]})}let w="font-serif dark:text-amber-50 mb-4";function intro_Intro(){let{t:e}=useI18n();return(0,n.jsx)("div",{className:"w-full bg-white dark:bg-stone-900 p-4 pt-12",children:(0,n.jsxs)("div",{className:"m-auto max-w-[1000px]",children:[(0,n.jsx)("div",{className:"mb-8",children:(0,n.jsx)(AudioWithTranscript,{title:"Ezra tests some audio",transcript:["Lorem ipsum dolor sit amet elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Integer malesuada nunc vel risus. Ut ornare lectus sit amet. Elit sed vulputate mi sit.","Tristique magna sit amet purus gravida quis blandit turpis. A diam sollicitudin tempor id eu nisl. Libero enim sed faucibus turpis in. Neque egestas congue quisque egestas diam in arcu. Tempus imperdiet nulla malesuada pellentesque elit eget gravida cum sociis. Ut ornare lectus sit amet est placerat. Ultrices sagittis orci a scelerisque purus. Maecenas volutpat blandit aliquam etiam. Sit amet mauris commodo quis imperdiet massa tincidunt. Nulla at volutpat diam ut venenatis.","Pulvinar elementum integer enim neque volutpat ac tincidunt. Felis eget velit aliquet sagittis id consectetur. Diam donec adipiscing tristique risus nec feugiat in fermentum. Nullam vehicula ipsum a arcu cursus. Mattis vulputate enim nulla aliquet porttitor lacus luctus accumsan. Aliquet bibendum enim facilisis gravida neque convallis. Nisi est sit amet facilisis magna etiam tempor. Malesuada fames ac turpis egestas integer eget. Condimentum lacinia quis vel eros donec. Phasellus faucibus scelerisque eleifend donec. Quis imperdiet massa tincidunt nunc pulvinar sapien et ligula ullamcorper. Facilisi morbi tempus iaculis urna id volutpat lacus. Lorem dolor sed viverra ipsum nunc. Urna nec tincidunt praesent semper feugiat nibh sed. Pharetra sit amet aliquam id diam maecenas ultricies mi. Bibendum at varius vel pharetra vel turpis nunc. Sed euismod nisi porta lorem mollis aliquam ut porttitor. Ullamcorper velit sed ullamcorper morbi tincidunt ornare massa eget egestas. Tempor nec feugiat nisl pretium fusce id velit. Malesuada proin libero nunc consequat interdum varius. Justo nec ultrices dui sapien eget mi proin sed. Pharetra vel turpis nunc eget lorem dolor sed viverra. Dolor sit amet consectetur adipiscing elit pellentesque habitant. Odio aenean sed adipiscing diam donec adipiscing tristique. Dignissim diam quis enim lobortis scelerisque. Sed turpis tincidunt id aliquet risus feugiat in ante metus. Nisi scelerisque eu ultrices vitae auctor eu augue. Nam libero justo laoreet sit amet cursus sit amet dictum. _A diam sollicitudin tempor id._ Duis at tellus at urna condimentum mattis pellentesque id. Fames ac turpis egestas integer eget aliquet nibh praesent. In eu mi bibendum neque egestas.","Neque vitae tempus quam pellentesque nec nam aliquam sem. Nisl tincidunt eget nullam non nisi est sit amet facilisis. Sed adipiscing diam donec adipiscing tristique risus nec feugiat in."],description:"A test example for the audio component",src:"/audio/intro.m4a"})}),(0,n.jsx)(g.U,{className:"".concat("first-letter:text-amber-900 first-letter:text-7xl first-letter:float-left first-letter:font-bold first-letter:mr-3 dark:first-letter:text-amber-200"," ").concat(w),children:e("intro.paragraph_1_md")}),(0,n.jsx)(g.U,{className:"".concat(w," first-letter:ml-8"),children:e("intro.paragraph_2_md")}),(0,n.jsx)(g.U,{className:"".concat(w," first-letter:ml-8"),children:e("intro.paragraph_3_md")})]})})}var _=a(6223);function ValHome(){let[e,t]=(0,o.useState)(!0),a=(0,o.useRef)(0);return(0,o.useEffect)(()=>{let e=(0,_.Z)(()=>{let e=window.scrollY||document.documentElement.scrollTop,n=e>a.current;t(!n),a.current=e},100);return document.addEventListener("scroll",e),()=>{document.removeEventListener("scroll",e)}},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c(),{"data-goatcounter":"https://ezra-sg-val.goatcounter.com/count",async:!0,src:"//gc.zgo.at/count.js"}),(0,n.jsxs)("div",{className:"bg-amber-50 dark:bg-stone-950 w-[100svw] min-h-[100svh] max-w-full ".concat(i().variable," ").concat(l().variable),children:[(0,n.jsx)("header",{className:"".concat(e?"opacity-100":"opacity-0"," transition-opacity fixed top-4 right-4 z-50"),children:(0,n.jsx)(LanguageSwitcher,{})}),(0,n.jsxs)("article",{children:[(0,n.jsx)(Intro,{}),(0,n.jsx)(intro_Intro,{})]})]})]})}},9351:function(e,t,a){"use strict";a.d(t,{A:function(){return r}});var n=a(2265);let r=(0,n.createContext)(void 0)},1643:function(e,t,a){"use strict";a.d(t,{i:function(){return n}});let n={english:"en",spanish:"es"}},6223:function(e,t,a){"use strict";function debounce(e,t){let a=null;return function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];a&&clearTimeout(a),a=setTimeout(()=>{e(...r),a=null},t)}}a.d(t,{Z:function(){return debounce}})},9253:function(){},732:function(){}}]);