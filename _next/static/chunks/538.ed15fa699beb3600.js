"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[538],{538:function(e,t,a){a.r(t),a.d(t,{default:function(){return SectionOne}});var r=a(7437),n=a(9656),s=a(1951),l=a(2265),i=a(7052),c=a(8910);function usePrefersDarkMode(){let[e,t]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let e=window.matchMedia("(prefers-color-scheme: dark)");t(e.matches);let listener=e=>{t(e.matches)};return e.addEventListener("change",listener),()=>{e.removeEventListener("change",listener)}},[]),e}let u="#fdba74";function AudioSpectrograph(e){let{snippetId:t}=e,a=(0,l.useRef)(u),n=(0,l.useRef)(!1),s=(0,l.useRef)(),c=(0,l.useRef)(null),d=(0,l.useRef)(null),o=usePrefersDarkMode(),{audioElement:h,subscribe:f,unsubscribe:p,audioAnalyser:m}=(0,i.YC)();function drawLineOnCanvas(e){let t=null==e?void 0:e.getContext("2d");if(!t)return;let r=Math.floor(e.height/2)+.5;t.beginPath(),t.moveTo(0,r),t.lineTo(e.width,r),t.strokeStyle=a.current,t.lineWidth=1,t.stroke()}let x=(0,l.useCallback)((e,t)=>{let r=c.current,l=null==r?void 0:r.getContext("2d");if(!r||!l)return;let i=r.width/24/2;e.getByteFrequencyData(t),l.clearRect(0,0,r.width,r.height),drawLineOnCanvas(r);for(let e=0;e<24;e++){let n=t[e],s=n/255,c=r.height*s,u=c/2;l.fillStyle=a.current,l.fillRect(e*i*2,r.height/2,i,u),l.fillRect(e*i*2,r.height-u-r.height/2,i,u)}n.current?s.current=window.requestAnimationFrame(()=>{var a;null===(a=d.current)||void 0===a||a.call(d,e,t)}):(l.clearRect(0,0,r.width,r.height),drawLineOnCanvas(r))},[]);return d.current=x,(0,l.useEffect)(()=>{drawLineOnCanvas(c.current)},[]),(0,l.useEffect)(()=>{a.current=o?u:"#78350f"},[o]),(0,l.useEffect)(()=>{let{playing:e}=i.AudioStatus,handler=t=>{if(n.current=t===e,t===e&&h&&m&&c.current){var a;let e=m.frequencyBinCount,t=new Uint8Array(e);null===(a=d.current)||void 0===a||a.call(d,m,t)}};return f(t,handler),()=>{p(t,handler)}},[h,m,f,p,t]),(0,r.jsx)("canvas",{ref:c,className:"w-40 h-14"})}function AudioSnippet(e){let{src:t,title:a,transcript:n}=e,[u,d]=(0,l.useState)("play"),[o,h]=(0,l.useState)(!1),f=a.replaceAll(" ","-").toLowerCase(),{t:p}=(0,s.Q)(),{playAudio:m,pauseAudio:x,subscribe:_,unsubscribe:g,audioPlaybackState:v,currentAudioData:w}=(0,i.YC)(),j="".concat(p(v===i.AudioStatus.complete?"audio.restart_audio_aria":"inputs.".concat(v===i.AudioStatus.playing?"pause":"play","_audio_aria"))," ").concat(a);function handleButtonClick(){let{playing:e,paused:r,complete:s,stopped:l}=i.AudioStatus;v===e&&w.snippetId===f?(x(),h(!1)):([r,s,l].includes(v)||w.snippetId!==f)&&m(f,t,a,n)}return(0,l.useEffect)(()=>{let handler=e=>{let{playing:t,paused:a,complete:r,stopped:n}=i.AudioStatus;e===t?d("pause"):e===a?d("play"):e===r||o?(h(!0),d("restart")):e===n&&d("play")};return _(f,handler),()=>{g(f,handler)}},[a,_,g,f,o]),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,r.jsxs)("h3",{className:"font-header dark:text-white",children:["Audio: ",a]}),(0,r.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,r.jsxs)("button",{className:"text-amber-900 dark:text-orange-300",onClick:handleButtonClick,"aria-label":j,children:["play"===u&&(0,r.jsx)(c.Hm_,{className:"h-12 w-12","aria-hidden":!0}),"pause"===u&&(0,r.jsx)(c.SUn,{className:"h-12 w-12","aria-hidden":!0}),"restart"===u&&(0,r.jsx)(c.zq9,{className:"h-12 w-12","aria-hidden":!0})]}),(0,r.jsx)(AudioSpectrograph,{snippetId:f})]})]})}let d="font-serif mb-4 dark:text-white";function SectionOne(){let{t:e}=(0,s.Q)();return(0,r.jsx)("div",{className:"w-full bg-white dark:bg-stone-900 p-4",children:(0,r.jsxs)("div",{className:"m-auto max-w-[1000px]",children:[(0,r.jsx)("h2",{className:"text-3xl font-header mb-4 dark:text-white",children:'Part I: "Guy"'}),(0,r.jsx)(AudioSnippet,{src:"/audio/intro.m4a",title:"Ezra tests some audio",transcript:"test"}),(0,r.jsx)(n.U,{className:"".concat(d),children:e("val.section_1.paragraph_1_md")}),(0,r.jsx)(AudioSnippet,{src:"/audio/test-2.m4a",title:"Test #2",transcript:e("val.section_3.paragraph_3_md")}),(0,r.jsx)(n.U,{className:"".concat(d," first-letter:ml-8"),children:e("val.section_1.paragraph_2_md")}),(0,r.jsx)(n.U,{className:"".concat(d," first-letter:ml-8"),children:e("val.section_1.paragraph_3_md")}),(0,r.jsx)(n.U,{className:"".concat(d," first-letter:ml-8"),children:e("val.section_1.paragraph_4_md")}),(0,r.jsx)(n.U,{className:"".concat(d," first-letter:ml-8"),children:e("val.section_1.paragraph_5_md")}),(0,r.jsx)(n.U,{className:"".concat(d," first-letter:ml-8"),children:e("val.section_1.paragraph_6_md")})]})})}}}]);