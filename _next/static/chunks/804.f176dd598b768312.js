(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[804],{3804:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Modal}});var r=n(7437),l=n(2265),a=n(8910),o=n(1951);n(4621);let c="w-[90vw] max-w-[1000px] min-h-[40vh] max-h-[80vh] md:max-h-[600px]",d='\n    a[href],\n    area[href],\n    audio,\n    input:not([disabled]),\n    select:not([disabled]),\n    textarea:not([disabled]),\n    button:not([disabled]),\n    iframe, object, embed,\n    [tabindex]:not([tabindex="-1"]),\n    [contenteditable]\n';function Modal(e){let{children:t,description:n,title:s,subtitle:u,trigger:i,footer:m}=e,[f,b]=(0,l.useState)(!1),h=(0,l.useRef)(null),x=(0,l.useRef)(null),v=(0,l.useRef)(null),p=(0,l.useRef)(null),y=(0,l.useRef)(null),g=(0,l.useRef)(!1),k=(0,l.useRef)(!1),{t:w}=(0,o.Q)();function cleanupListeners(){g.current&&(document.removeEventListener("mousedown",p.current),g.current=!1),k.current&&(document.removeEventListener("keydown",y.current),k.current=!1)}let j=(0,l.useCallback)(e=>{let t=e.target,n=!x.current.contains(t);n&&b(!1)},[]);p.current=j;let E=(0,l.useCallback)(e=>{var t,n;let r=Array.from(null!==(n=null===(t=h.current)||void 0===t?void 0:t.querySelectorAll(d))&&void 0!==n?n:[]),l=Array.from(document.querySelectorAll(d)),a=r[0],o=r[r.length-1],c=l[0],s=l[r.length-1];if("Tab"===e.key){if(e.shiftKey){document.activeElement===c?a.focus():document.activeElement===a&&o.focus(),e.preventDefault();return}document.activeElement===c?(a.focus(),e.preventDefault()):document.activeElement===o&&s.focus()}},[]);return y.current=E,(0,l.useEffect)(()=>{let e=h.current,handleDialogClose=()=>{b(!1)};return null==e||e.addEventListener("close",handleDialogClose),()=>{null==e||e.removeEventListener("close",handleDialogClose),cleanupListeners()}},[]),(0,l.useEffect)(()=>{var e,t,n;f?(g.current||(document.addEventListener("mousedown",p.current),g.current=!0),k.current||(document.addEventListener("keydown",y.current),k.current=!0),null===(e=h.current)||void 0===e||e.showModal(),document.body.setAttribute("inert","true"),document.body.style.overflow="hidden",document.body.style.filter="blur(2px)"):(cleanupListeners(),null===(t=h.current)||void 0===t||t.close(),document.body.removeAttribute("inert"),document.body.style.overflow="",document.body.style.filter=""),v.current&&(null===(n=h.current)||void 0===n||n.style.setProperty("--extra-padding-bottom","".concat(v.current.offsetHeight+16,"px")))},[f]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{role:"button","aria-haspopup":"dialog","aria-expanded":f,tabIndex:0,title:n,"data-testid":"modal-trigger",onClick:()=>b(!0),onKeyDown:e=>{[" ","Enter"].includes(e.key)&&(e.preventDefault(),b(!0))},children:i}),(0,r.jsx)("dialog",{ref:h,"aria-modal":"true",className:"".concat(f?"flex":""," ").concat(c," h-max fixed top-0 right-0 bottom-0 left-0 items-center justify-center overflow-hidden bg-transparent backdrop:bg-stone-900 backdrop:opacity-90"),children:(0,r.jsx)("div",{className:"relative ".concat(c," rounded-sm overflow-hidden flex h-max"),children:(0,r.jsxs)("div",{ref:x,className:"relative w-full bg-white dark:bg-stone-950 dark:text-amber-50",children:[(0,r.jsxs)("header",{className:"absolute top-0 left-0 right-0 shadow-sm flex justify-between items-center bg-amber-50 dark:bg-stone-900",children:[(0,r.jsxs)("div",{className:"ml-4 my-2 dark:text-amber-50",children:[(0,r.jsx)("h1",{className:"font-header",children:s}),(0,r.jsx)("p",{className:"text-xs italic",children:u})]}),(0,r.jsx)("button",{className:"h-8 w-8 m-4 flex items-center justify-center shrink-0 rounded-full border-[1px] border-amber-900 hover:border-[2px] dark:border-orange-300","data-testid":"modal-close-button",title:"".concat(w("modal.close_modal_label")," ").concat(s),"aria-label":"".concat(w("modal.close_modal_label")," ").concat(s),onClick:()=>b(!1),children:(0,r.jsx)(a.FU5,{className:"text-xl text-amber-900 dark:text-orange-300","aria-hidden":"true"})})]}),(0,r.jsx)("div",{className:"c-modal__content",children:t}),m&&(0,r.jsx)("footer",{ref:v,className:"sticky bottom-0 left-0 right-0 p-2 flex justify-center items-center shadow-sm bg-amber-50 dark:bg-stone-950",children:m})]})})})]})}},4621:function(){}}]);